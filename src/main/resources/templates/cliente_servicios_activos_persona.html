<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    >
    <head>
        <meta charset="utf-8" />
        <title>Crisalis</title>
        <link rel="stylesheet" type="text/css" href="/css/estilos.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
            />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@200;300;400&display=swap"
            />
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&family=Work+Sans:wght@200;300;400&display=swap"
            rel="stylesheet"
            />
    </head>
    <body>
        <nav>
            <!-- 
              <div class="logo">
                  <div class="im-lg"></div>
              </div> -->
            <div class="direcciones">
                <ul>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/}">Home</a>
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/pedidos}"
                           >Pedidos</a
                        >
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/clientes}"
                           >Clientes</a
                        >
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/productos}"
                           >Productos</a
                        >
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/servicios}"
                           >Servicios</a
                        >
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/impuestos}"
                           >Impuestos</a
                        >
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a class="hvr-underline-from-center" th:href="@{/logout}"
                           >Cerrar sesi√≥n</a
                        >
                    </li>
                </ul>
            </div>
        </nav>
        <h1>Servicios del Cliente</h1>
        <header>
            <div class="contenedor-col">

                <table>
                    <h3>Servicios Contratados</h3>
                    <thead>
                        <tr>
                            <th>Descripcion</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="servicio : ${listaServiciosActivos}">
                            <td th:text="${servicio.descripcion}"></td>
                            <td th:text="${servicio.estado}"></td>
                            </td>
                            <td>
                                <button class="btn-secundario">
                                    <a
                                        th:href="@{/clientes/servicios_activos/desactivar/persona/{id} 
                                        (id=${servicio.idItem})}"
                                        >Desactivar</a
                                    >
                                </button>
                                <button class="btn-secundario">
                                    <a
                                        th:href="@{/clientes/servicios_activos/activar/persona/{id} 
                                        (id=${servicio.idItem})}"
                                        >Activar</a
                                    >
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <table>
                    <h3>Servicios Vencidos</h3>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Descripcion</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="servicio : ${vencidos}">
                            <td th:text="${servicio.idItem != null} ? ${servicio.idItem} : '--'"></td>
                            <td th:text="${servicio.descripcion ne null} ? ${servicio.descripcion} : '--' "></td>
                        </tr>
                    </tbody>
                </table>
            </div>



            <!-- Latest compiled and minified JavaScript -->
            <script type="text/javascript">
                function limpiarCampos(){
                window.location='/clientes';
                }
            </script>



        </header>
        <!-- Latest compiled and minified JavaScript -->

    </body>
</html>
